# ğŸ‹ï¸â€â™‚ï¸ DACS_MyGymScheduler - Há»‡ Thá»‘ng Äáº·t Lá»‹ch Táº­p Gym VÃ  TÃ¬m Huáº¥n Luyá»‡n ViÃªn

## ğŸ“‹ MÃ´ Táº£ Dá»± Ãn

**DACS_MyGymScheduler** lÃ  má»™t á»©ng dá»¥ng web ASP.NET Core Ä‘Æ°á»£c phÃ¡t triá»ƒn Ä‘á»ƒ quáº£n lÃ½ vÃ  Ä‘áº·t lá»‹ch táº­p gym, tÃ¬m kiáº¿m huáº¥n luyá»‡n viÃªn, vÃ  quáº£n lÃ½ há»‡ thá»‘ng phÃ²ng táº­p. Dá»± Ã¡n Ä‘Æ°á»£c xÃ¢y dá»±ng vá»›i kiáº¿n trÃºc MVC (Model-View-Controller) vÃ  tÃ­ch há»£p nhiá»u tÃ­nh nÄƒng hiá»‡n Ä‘áº¡i.

## âœ¨ TÃ­nh NÄƒng ChÃ­nh

### ğŸ‘¥ Quáº£n LÃ½ NgÆ°á»i DÃ¹ng
- **ÄÄƒng kÃ½/ÄÄƒng nháº­p**: Há»‡ thá»‘ng xÃ¡c thá»±c vá»›i email vÃ  máº¡ng xÃ£ há»™i (Facebook, Google)
- **Quáº£n lÃ½ há»“ sÆ¡**: Cáº­p nháº­t thÃ´ng tin cÃ¡ nhÃ¢n, avatar
- **XÃ¡c thá»±c email**: Gá»­i email xÃ¡c nháº­n khi Ä‘Äƒng kÃ½
- **PhÃ¢n quyá»n**: Há»‡ thá»‘ng role-based access control

### ğŸ¢ Quáº£n LÃ½ PhÃ²ng Gym
- **ThÃªm/Sá»­a/XÃ³a phÃ²ng gym**: Quáº£n lÃ½ thÃ´ng tin phÃ²ng táº­p
- **TÃ¬m kiáº¿m phÃ²ng gym**: TÃ¬m kiáº¿m theo Ä‘á»‹a chá»‰, loáº¡i phÃ²ng
- **ÄÃ¡nh giÃ¡ vÃ  review**: Há»‡ thá»‘ng rating cho phÃ²ng gym
- **Quáº£n lÃ½ tiá»‡n Ã­ch**: MÃ´ táº£ cÃ¡c tiá»‡n Ã­ch cá»§a phÃ²ng gym

### ğŸ‘¨â€ğŸ« Quáº£n LÃ½ Huáº¥n Luyá»‡n ViÃªn
- **ÄÄƒng kÃ½ trainer**: ThÃªm huáº¥n luyá»‡n viÃªn má»›i
- **Quáº£n lÃ½ chuyÃªn mÃ´n**: PhÃ¢n loáº¡i theo chuyÃªn mÃ´n
- **TÃ¬m kiáº¿m trainer**: TÃ¬m kiáº¿m theo chuyÃªn mÃ´n, Ä‘á»‹a Ä‘iá»ƒm
- **ÄÃ¡nh giÃ¡ trainer**: Há»‡ thá»‘ng review cho huáº¥n luyá»‡n viÃªn

### ğŸ“š Quáº£n LÃ½ Lá»›p Há»c
- **Táº¡o lá»›p há»c**: ÄÄƒng kÃ½ cÃ¡c lá»›p táº­p má»›i
- **Lá»‹ch trÃ¬nh**: Quáº£n lÃ½ lá»‹ch há»c theo ngÃ y, giá»
- **ÄÄƒng kÃ½ lá»›p**: NgÆ°á»i dÃ¹ng Ä‘Äƒng kÃ½ tham gia lá»›p há»c
- **Check-in**: Há»‡ thá»‘ng Ä‘iá»ƒm danh cho lá»›p há»c

### ğŸ’³ Quáº£n LÃ½ GÃ³i ThÃ nh ViÃªn
- **CÃ¡c loáº¡i gÃ³i**: Bronze, Silver, Gold vá»›i quyá»n lá»£i khÃ¡c nhau
- **Thanh toÃ¡n**: TÃ­ch há»£p VNPay Ä‘á»ƒ thanh toÃ¡n online
- **Quáº£n lÃ½ thá»i háº¡n**: Theo dÃµi thá»i háº¡n gÃ³i thÃ nh viÃªn
- **Gia háº¡n**: Tá»± Ä‘á»™ng nháº¯c nhá»Ÿ gia háº¡n gÃ³i

### ğŸ” TÃ¬m Kiáº¿m NÃ¢ng Cao
- **TÃ¬m kiáº¿m phÃ²ng gym**: Theo Ä‘á»‹a chá»‰, loáº¡i phÃ²ng, giÃ¡ cáº£
- **TÃ¬m kiáº¿m trainer**: Theo chuyÃªn mÃ´n, Ä‘á»‹a Ä‘iá»ƒm
- **TÃ¬m kiáº¿m lá»›p há»c**: Theo loáº¡i lá»›p, thá»i gian, Ä‘á»‹a Ä‘iá»ƒm

### ğŸ“§ Há»‡ Thá»‘ng Email
- **Email xÃ¡c nháº­n**: Gá»­i email xÃ¡c nháº­n Ä‘Äƒng kÃ½
- **Email nháº¯c nhá»Ÿ**: Nháº¯c nhá»Ÿ lá»‹ch há»c, gia háº¡n gÃ³i
- **Email hÃ ng tuáº§n**: BÃ¡o cÃ¡o hoáº¡t Ä‘á»™ng hÃ ng tuáº§n

## ğŸ› ï¸ CÃ´ng Nghá»‡ Sá»­ Dá»¥ng

### Backend
- **ASP.NET Core 8.0**: Framework chÃ­nh
- **Entity Framework Core**: ORM cho database
- **SQL Server**: Há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u
- **Dapper**: Micro ORM cho truy váº¥n phá»©c táº¡p
- **AutoMapper**: Mapping giá»¯a cÃ¡c object

### Frontend
- **Bootstrap 4.2.1**: Framework CSS
- **jQuery 3.3.1**: JavaScript library
- **Font Awesome**: Icon library
- **Responsive Design**: TÆ°Æ¡ng thÃ­ch mobile

### Authentication & Authorization
- **Cookie Authentication**: XÃ¡c thá»±c báº±ng cookie
- **Facebook Authentication**: ÄÄƒng nháº­p báº±ng Facebook
- **Google Authentication**: ÄÄƒng nháº­p báº±ng Google

### Payment Integration
- **VNPay**: TÃ­ch há»£p thanh toÃ¡n online
- **Sandbox Environment**: MÃ´i trÆ°á»ng test thanh toÃ¡n

### Background Services
- **Hangfire**: Background job processing
- **Memory Storage**: LÆ°u trá»¯ job trong memory
- **Recurring Jobs**: Tá»± Ä‘á»™ng gá»­i email hÃ ng tuáº§n

### Email Services
- **MailKit**: ThÆ° viá»‡n gá»­i email
- **SMTP Gmail**: Sá»­ dá»¥ng Gmail SMTP
- **HTML Templates**: Template email Ä‘áº¹p máº¯t

## ğŸ“ Cáº¥u TrÃºc Dá»± Ãn

```
DACS_MyGymScheduler/
â”œâ”€â”€ toanggg/
â”‚   â”œâ”€â”€ Controllers/           # Controllers cho cÃ¡c chá»©c nÄƒng
â”‚   â”œâ”€â”€ Data/                  # Entity models vÃ  DbContext
â”‚   â”œâ”€â”€ Models/                # ViewModels vÃ  DTOs
â”‚   â”œâ”€â”€ Services/              # Business logic services
â”‚   â”œâ”€â”€ Helpers/               # Utility classes
â”‚   â”œâ”€â”€ Views/                 # Razor views
â”‚   â”œâ”€â”€ wwwroot/              # Static files (CSS, JS, Images)
â”‚   â”œâ”€â”€ Areas/                # Area routing (Admin, Trainers)
â”‚   â””â”€â”€ Properties/           # Project properties
```

### CÃ¡c Entity ChÃ­nh

- **User**: NgÆ°á»i dÃ¹ng há»‡ thá»‘ng
- **Gym**: PhÃ²ng táº­p gym
- **Trainer**: Huáº¥n luyá»‡n viÃªn
- **Class**: Lá»›p há»c
- **ClassSchedule**: Lá»‹ch trÃ¬nh lá»›p há»c
- **MembershipType**: Loáº¡i gÃ³i thÃ nh viÃªn
- **UserMembership**: GÃ³i thÃ nh viÃªn cá»§a user
- **GymType**: Loáº¡i phÃ²ng gym

## ğŸš€ CÃ i Äáº·t VÃ  Cháº¡y Dá»± Ãn

### YÃªu Cáº§u Há»‡ Thá»‘ng
- **.NET 8.0 SDK**
- **SQL Server 2019+**
- **Visual Studio 2022** hoáº·c **VS Code**

### BÆ°á»›c 1: Clone Repository
```bash
git clone https://github.com/phn47/DACS_MyGymScheduler.git
cd DACS_MyGymScheduler
```

### BÆ°á»›c 2: Cáº¥u HÃ¬nh Database
1. Táº¡o database SQL Server vá»›i tÃªn `DACS`
2. Cáº­p nháº­t connection string trong `appsettings.json`:
```json
{
  "ConnectionStrings": {
    "QLPHONGTAP": "Data Source=YOUR_SERVER;Initial Catalog=DACS;Integrated Security=True;Encrypt=True;Trust Server Certificate=True"
  }
}
```

### BÆ°á»›c 3: Cáº¥u HÃ¬nh Email
Cáº­p nháº­t thÃ´ng tin email trong `appsettings.json`:
```json
{
  "Email": {
    "Smtp": {
      "Host": "smtp.gmail.com",
      "Port": "587",
      "Username": "your-email@gmail.com",
      "Password": "your-app-password",
      "EnableSsl": true
    }
  }
}
```

### BÆ°á»›c 4: Cáº¥u HÃ¬nh VNPay
Cáº­p nháº­t thÃ´ng tin VNPay trong `appsettings.json`:
```json
{
  "VnPay": {
    "TmnCode": "YOUR_TMN_CODE",
    "HashSecret": "YOUR_HASH_SECRET",
    "BaseUrl": "https://sandbox.vnpayment.vn/paymentv2/vpcpay.html"
  }
}
```

### BÆ°á»›c 5: Cáº¥u HÃ¬nh OAuth
Cáº­p nháº­t thÃ´ng tin Facebook vÃ  Google OAuth:
```json
{
  "Authentication": {
    "Facebook": {
      "AppId": "YOUR_FACEBOOK_APP_ID",
      "AppSecret": "YOUR_FACEBOOK_APP_SECRET"
    },
    "Google": {
      "ClientId": "YOUR_GOOGLE_CLIENT_ID",
      "ClientSecret": "YOUR_GOOGLE_CLIENT_SECRET"
    }
  }
}
```

### BÆ°á»›c 6: Cháº¡y Migration
```bash
dotnet ef database update
```

### BÆ°á»›c 7: Cháº¡y Dá»± Ãn
```bash
dotnet run
```

Truy cáº­p á»©ng dá»¥ng táº¡i: `https://localhost:7014`

## ğŸ”§ CÃ¡c Package NuGet ChÃ­nh

- **Microsoft.EntityFrameworkCore**: ORM framework
- **Microsoft.EntityFrameworkCore.SqlServer**: SQL Server provider
- **Dapper**: Micro ORM
- **AutoMapper.Extensions.Microsoft.DependencyInjection**: Object mapping
- **Hangfire**: Background job processing
- **MailKit**: Email sending
- **Microsoft.AspNetCore.Authentication.Facebook**: Facebook OAuth
- **Microsoft.AspNetCore.Authentication.Google**: Google OAuth

## ğŸ“Š Database Schema

### Báº£ng ChÃ­nh
- **Users**: ThÃ´ng tin ngÆ°á»i dÃ¹ng
- **Gyms**: ThÃ´ng tin phÃ²ng gym
- **Trainers**: ThÃ´ng tin huáº¥n luyá»‡n viÃªn
- **Classes**: ThÃ´ng tin lá»›p há»c
- **ClassSchedules**: Lá»‹ch trÃ¬nh lá»›p há»c
- **MembershipTypes**: Loáº¡i gÃ³i thÃ nh viÃªn
- **UserMemberships**: GÃ³i thÃ nh viÃªn cá»§a user
- **GymTypes**: Loáº¡i phÃ²ng gym

## ğŸ” Báº£o Máº­t

- **HTTPS**: Sá»­ dá»¥ng HTTPS cho táº¥t cáº£ káº¿t ná»‘i
- **Cookie Authentication**: XÃ¡c thá»±c báº±ng cookie an toÃ n
- **OAuth 2.0**: ÄÄƒng nháº­p báº±ng máº¡ng xÃ£ há»™i
- **Email Verification**: XÃ¡c thá»±c email khi Ä‘Äƒng kÃ½
- **Input Validation**: Validate táº¥t cáº£ input tá»« user
- **SQL Injection Protection**: Sá»­ dá»¥ng parameterized queries

## ğŸ“ˆ TÃ­nh NÄƒng NÃ¢ng Cao

### Background Services
- **Weekly Email Service**: Gá»­i email bÃ¡o cÃ¡o hÃ ng tuáº§n
- **Membership Cleanup**: Tá»± Ä‘á»™ng xá»­ lÃ½ gÃ³i háº¿t háº¡n
- **Hangfire Dashboard**: Quáº£n lÃ½ background jobs

### Payment Integration
- **VNPay Integration**: Thanh toÃ¡n online
- **Payment Callback**: Xá»­ lÃ½ callback tá»« VNPay
- **Order Management**: Quáº£n lÃ½ Ä‘Æ¡n hÃ ng thanh toÃ¡n

### Search Functionality
- **Advanced Search**: TÃ¬m kiáº¿m nÃ¢ng cao
- **Filter Options**: Bá»™ lá»c theo nhiá»u tiÃªu chÃ­
- **Search Service**: Service riÃªng cho tÃ¬m kiáº¿m

## ğŸ¤ ÄÃ³ng GÃ³p

1. Fork dá»± Ã¡n
2. Táº¡o feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Táº¡o Pull Request

## ğŸ“ License

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¡t triá»ƒn cho má»¥c Ä‘Ã­ch há»c táº­p vÃ  nghiÃªn cá»©u.

## ğŸ‘¨â€ğŸ’» TÃ¡c Giáº£

**DACS Team** - Dá»± Ã¡n mÃ´n há»c Database Application Development

## ğŸ“ LiÃªn Há»‡

- **Email**: phamnam1449@gmail.com
- **GitHub**: [https://github.com/phn47/DACS_MyGymScheduler](https://github.com/phn47/DACS_MyGymScheduler)

---

â­ Náº¿u dá»± Ã¡n nÃ y há»¯u Ã­ch, hÃ£y cho chÃºng tÃ´i má»™t star! 